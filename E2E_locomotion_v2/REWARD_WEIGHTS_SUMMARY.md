# E2E_locomotion_v2 Reward Weights ì •ë¦¬

## ğŸ“Š ì „ì²´ Reward Weight ìš”ì•½

| ì¹´í…Œê³ ë¦¬ | Reward ì´ë¦„ | Weight | ìƒíƒœ | ë¹„ê³  |
|---------|------------|--------|------|------|
| **ê¸°ë³¸** | `termination` | **-5.0** | âœ… í™œì„± | ì¢…ë£Œ íŒ¨ë„í‹° |
| **ê¸°ë³¸** | `alive` | **0.01** | âœ… í™œì„± | ìƒì¡´ ë³´ìƒ |
| **ì†ë„ ì¶”ì ** | `tracking_lin_vel` | **3.0** | âœ… í™œì„± | ì„ í˜• ì†ë„ ì¶”ì  (sigma=0.25) |
| **ì†ë„ ì¶”ì ** | `tracking_ang_vel` | **0.3** | âœ… í™œì„± | ê°ì†ë„ ì¶”ì  (sigma=0.25) |
| **Body/Root** | `lin_vel_z` | **-1.0** | âœ… í™œì„± | Zì¶• ì„ í˜• ì†ë„ íŒ¨ë„í‹° |
| **Body/Root** | `ang_vel_xy` | **-0.05** | âœ… í™œì„± | XYì¶• ê°ì†ë„ íŒ¨ë„í‹° |
| **Body/Root** | `orientation` | **-0.0** | âŒ ë¹„í™œì„± | ìì„¸ íŒ¨ë„í‹° |
| **Body/Root** | `base_height` | **0.00** | âŒ ë¹„í™œì„± | ê¸°ì¤€ ë†’ì´ (target=0.3536m) |
| **ê´€ì ˆ** | `torques` | **-1.0e-5** | âœ… í™œì„± | í† í¬ íŒ¨ë„í‹° |
| **ê´€ì ˆ** | `dof_vel` | **-5.0e-4** | âœ… í™œì„± | ê´€ì ˆ ì†ë„ íŒ¨ë„í‹° |
| **ê´€ì ˆ** | `dof_acc` | **-2.5e-7** | âœ… í™œì„± | ê´€ì ˆ ê°€ì†ë„ íŒ¨ë„í‹° |
| **ê´€ì ˆ** | `joint_power` | **-2.5e-5** | âœ… í™œì„± | ê´€ì ˆ ì „ë ¥ íŒ¨ë„í‹° |
| **ê´€ì ˆ** | `dof_pos_limits` | **-0.5** | âœ… í™œì„± | ê´€ì ˆ ìœ„ì¹˜ í•œê³„ íŒ¨ë„í‹° |
| **ì•¡ì…˜** | `action_rate` | **-0.02** | âœ… í™œì„± | ì•¡ì…˜ ë³€í™”ìœ¨ íŒ¨ë„í‹° |
| **ë°œ** | `feet_air_time` | **0.0** | âŒ ë¹„í™œì„± | ë°œ ê³µì¤‘ ì‹œê°„ (threshold=0.3) |
| **ì ‘ì´‰** | `collision` | **-1.0** | âœ… í™œì„± | ì¶©ëŒ íŒ¨ë„í‹° (threshold=5.0N) |
| **ê¸°íƒ€** | `feet_stumble` | **-0.0** | âŒ ë¹„í™œì„± | ë°œ ê±¸ë¦¼ |
| **ê¸°íƒ€** | `stand_still` | **-0.0** | âŒ ë¹„í™œì„± | ì •ì§€ ìƒíƒœ |

---

## ğŸ“ˆ Weight í¬ê¸° ìˆœì„œ (ì ˆëŒ“ê°’ ê¸°ì¤€)

| ìˆœìœ„ | Reward | Weight | ì ˆëŒ“ê°’ |
|------|--------|--------|--------|
| 1 | `termination` | -5.0 | **5.0** |
| 2 | `tracking_lin_vel` | 3.0 | **3.0** |
| 3 | `collision` | -1.0 | **1.0** |
| 4 | `lin_vel_z` | -1.0 | **1.0** |
| 5 | `dof_pos_limits` | -0.5 | **0.5** |
| 6 | `tracking_ang_vel` | 0.3 | **0.3** |
| 7 | `action_rate` | -0.02 | **0.02** |
| 8 | `ang_vel_xy` | -0.05 | **0.05** |
| 9 | `dof_vel` | -5.0e-4 | **0.0005** |
| 10 | `joint_power` | -2.5e-5 | **0.000025** |
| 11 | `torques` | -1.0e-5 | **0.00001** |
| 12 | `dof_acc` | -2.5e-7 | **0.00000025** |
| 13 | `alive` | 0.01 | **0.01** |

---

## ğŸ¯ ì¹´í…Œê³ ë¦¬ë³„ ì •ë¦¬

### 1. âœ… í™œì„±í™”ëœ Rewards (ì´ 12ê°œ)

#### ê¸°ë³¸ Rewards (2ê°œ)
- `termination`: **-5.0** (ê°€ì¥ í° íŒ¨ë„í‹°)
- `alive`: **0.01** (ì‘ì€ ìƒì¡´ ë³´ìƒ)

#### ì†ë„ ì¶”ì  (2ê°œ)
- `tracking_lin_vel`: **3.0** (ê°€ì¥ í° ë³´ìƒ)
- `tracking_ang_vel`: **0.3**

#### Body/Root Penalties (2ê°œ)
- `lin_vel_z`: **-1.0** (Zì¶• ìˆ˜ì§ ì†ë„ íŒ¨ë„í‹°)
- `ang_vel_xy`: **-0.05** (XYì¶• íšŒì „ íŒ¨ë„í‹°)

#### ê´€ì ˆ Penalties (5ê°œ)
- `torques`: **-1.0e-5** (í† í¬ íŒ¨ë„í‹°, ë§¤ìš° ì‘ìŒ)
- `dof_vel`: **-5.0e-4** (ê´€ì ˆ ì†ë„ íŒ¨ë„í‹°)
- `dof_acc`: **-2.5e-7** (ê´€ì ˆ ê°€ì†ë„ íŒ¨ë„í‹°, ê°€ì¥ ì‘ìŒ)
- `joint_power`: **-2.5e-5** (ì „ë ¥ ì†Œë¹„ íŒ¨ë„í‹°)
- `dof_pos_limits`: **-0.5** (ê´€ì ˆ ìœ„ì¹˜ í•œê³„ íŒ¨ë„í‹°)

#### ì•¡ì…˜ Penalties (1ê°œ)
- `action_rate`: **-0.02** (ì•¡ì…˜ ë³€í™”ìœ¨ íŒ¨ë„í‹°)

#### ì ‘ì´‰ Penalties (1ê°œ)
- `collision`: **-1.0** (ì¶©ëŒ íŒ¨ë„í‹°, threshold=5.0N)

---

### 2. âŒ ë¹„í™œì„±í™”ëœ Rewards (ì´ 6ê°œ)

- `orientation`: **-0.0** (ìì„¸ íŒ¨ë„í‹°)
- `base_height`: **0.00** (ê¸°ì¤€ ë†’ì´, target=0.3536m)
- `feet_air_time`: **0.0** (ë°œ ê³µì¤‘ ì‹œê°„)
- `feet_stumble`: **-0.0** (ë°œ ê±¸ë¦¼)
- `stand_still`: **-0.0** (ì •ì§€ ìƒíƒœ)

---

## ğŸ“Š Weight ë¶„í¬ ë¶„ì„

### ì–‘ìˆ˜ (ë³´ìƒ) - 2ê°œ
- `tracking_lin_vel`: **3.0** (ê°€ì¥ í° ë³´ìƒ)
- `tracking_ang_vel`: **0.3**
- `alive`: **0.01** (ì‘ì€ ë³´ìƒ)

### ìŒìˆ˜ (íŒ¨ë„í‹°) - 10ê°œ
- `termination`: **-5.0** (ê°€ì¥ í° íŒ¨ë„í‹°)
- `collision`: **-1.0**
- `lin_vel_z`: **-1.0**
- `dof_pos_limits`: **-0.5**
- `action_rate`: **-0.02**
- `ang_vel_xy`: **-0.05**
- `dof_vel`: **-5.0e-4**
- `joint_power`: **-2.5e-5**
- `torques`: **-1.0e-5**
- `dof_acc`: **-2.5e-7** (ê°€ì¥ ì‘ì€ íŒ¨ë„í‹°)

---

## ğŸ” ì£¼ìš” íŠ¹ì§•

### 1. ê°€ì¥ í° ì˜í–¥ë ¥
- **ë³´ìƒ**: `tracking_lin_vel` (3.0) - ì„ í˜• ì†ë„ ì¶”ì ì´ ê°€ì¥ ì¤‘ìš”
- **íŒ¨ë„í‹°**: `termination` (-5.0) - ì¢…ë£Œê°€ ê°€ì¥ í° íŒ¨ë„í‹°

### 2. ê´€ì ˆ ê´€ë ¨ íŒ¨ë„í‹°
- ëª¨ë‘ ë§¤ìš° ì‘ì€ ê°’ (10â»âµ ~ 10â»â·)
- `dof_pos_limits` (-0.5)ë§Œ ìƒëŒ€ì ìœ¼ë¡œ í¼

### 3. ë¹„í™œì„±í™”ëœ í•­ëª©
- ë°œ ê´€ë ¨ rewards ëª¨ë‘ ë¹„í™œì„±í™” (`feet_air_time`, `feet_stumble`)
- `base_height` ë¹„í™œì„±í™” (ë†’ì´ ì œì–´ ì—†ìŒ)
- `orientation` ë¹„í™œì„±í™” (ìì„¸ ì œì–´ ì—†ìŒ)

### 4. Weight ìŠ¤ì¼€ì¼
- **í° ê°’**: termination (-5.0), tracking_lin_vel (3.0)
- **ì¤‘ê°„ ê°’**: collision (-1.0), lin_vel_z (-1.0), dof_pos_limits (-0.5)
- **ì‘ì€ ê°’**: ê´€ì ˆ ê´€ë ¨ (10â»âµ ~ 10â»â·)

---

## ğŸ’¡ ê°œì„  ì œì•ˆ

### 1. ë¹„í™œì„±í™”ëœ Rewards í™œì„±í™” ê³ ë ¤
- `base_height`: ë†’ì´ ì œì–´ê°€ í•„ìš”í•  ê²½ìš° í™œì„±í™”
- `feet_air_time`: ë³´í–‰ íŒ¨í„´ í•™ìŠµì„ ìœ„í•´ í™œì„±í™” ê³ ë ¤
- `orientation`: ìì„¸ ì•ˆì •í™”ë¥¼ ìœ„í•´ í™œì„±í™” ê³ ë ¤

### 2. Weight ë°¸ëŸ°ì‹±
- `tracking_lin_vel` (3.0)ì´ ê°€ì¥ í° ë³´ìƒ
- `termination` (-5.0)ì´ ê°€ì¥ í° íŒ¨ë„í‹°
- ê´€ì ˆ íŒ¨ë„í‹°ë“¤ì´ ë§¤ìš° ì‘ì•„ì„œ ì‹¤ì œ ì˜í–¥ì´ ì‘ì„ ìˆ˜ ìˆìŒ

### 3. rl_trainingê³¼ ë¹„êµ
- rl_training X30ì€ ë°œ ê´€ë ¨ rewardsê°€ í™œì„±í™”ë˜ì–´ ìˆìŒ
- `base_height_l2` weightê°€ -10.0ìœ¼ë¡œ ë§¤ìš° í¼
- `feet_air_time` weightê°€ 5.0ìœ¼ë¡œ í° ë³´ìƒ

---

## ğŸ“ ì°¸ê³ ì‚¬í•­

- ëª¨ë“  weightëŠ” **dtë¥¼ ê³±í•˜ì§€ ì•Šì€ ì›ë˜ ê°’**ì…ë‹ˆë‹¤
- Isaac Labì˜ RewardManagerê°€ ìë™ìœ¼ë¡œ `weight Ã— dt`ë¥¼ ì ìš©í•©ë‹ˆë‹¤
- `#basic reward` ì£¼ì„ì´ ìˆëŠ” í•­ëª©ë“¤ì€ legged_gym ìŠ¤íƒ€ì¼ì˜ ê¸°ë³¸ rewardsì…ë‹ˆë‹¤
